"use strict";(self["webpackChunkvote_coin_demo"]=self["webpackChunkvote_coin_demo"]||[]).push([[931],{86931:function(e,n,t){t.r(n),t.d(n,{SignTxnsError:function(){return s},default:function(){return d}});class s extends Error{code;data;constructor(e,n,t){super(e),this.name="SignTxnsError",this.code=n,this.data=t}}const o=100+window.screenX,i=100+window.screenY,r=`width=500,height=750,left=${o},top=${i}`,c="https://lute.app",a="kiaoohollfkjhikdifohdckeidckokjh";class d{siteName;forceWeb=!1;constructor(e){this.siteName=e}async isExtensionInstalled(){return await fetch(`chrome-extension://${a}/assets/icon-16.png`).then((()=>!0)).catch((()=>!1))}connect(e){return new Promise((async(n,t)=>{const s=!this.forceWeb&&await this.isExtensionInstalled();let o;s?window.dispatchEvent(new CustomEvent("lute-connect",{detail:{action:"connect",genesisID:e}})):o=open(`${c}/connect`,this.siteName,r);const i=s?"connect-response":"message";function a(r){if(!s&&r.origin!==c)return;const d=r.data||r.detail;switch(d.debug&&console.log("[Lute Debug]",d),d.action){case"ready":o?.postMessage({action:"network",genesisID:e},"*");break;case"connect":window.removeEventListener(i,a),n(d.addrs);break;case"error":window.removeEventListener(i,a),t(new Error(d.message));break;case"close":window.removeEventListener(i,a),t(new Error("Operation Cancelled"));break}}window.addEventListener(i,a)}))}signTxns(e){return new Promise((async(n,t)=>{const o=!this.forceWeb&&await this.isExtensionInstalled();let i;o?window.dispatchEvent(new CustomEvent("lute-connect",{detail:{action:"sign",txns:e}})):i=open(`${c}/sign`,this.siteName,r);const a=o?"sign-txns-response":"message";function d(r){if(!o&&r.origin!==c)return;const w=r.data||r.detail;switch(w.debug&&console.log("[Lute Debug]",w),w.action){case"ready":i?.postMessage({action:"sign",txns:e},"*");break;case"signed":window.removeEventListener(a,d),n(w.txns);break;case"error":window.removeEventListener(a,d),t(new s(w.message,w.code||4300));break;case"close":window.removeEventListener(a,d),t(new s("User Rejected Request",4100));break}}window.addEventListener(a,d)}))}}}}]);
//# sourceMappingURL=931.f258dcf1.js.map